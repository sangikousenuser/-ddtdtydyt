<script src="https://apis.google.com/js/platform.js" async defer></script>

<meta name="google-signin-client_id" content="965248319984-c5ll751dsoi9nm5vu1vrcefc9f9h27qr.apps.googleusercontent.com">

<div class="g-signin2" data-onsuccess="onSignIn"></div>

<script>
  function onSignIn(googleUser) {
    var profile = googleUser.getBasicProfile();
    var email = profile.getEmail();

    // メールアドレスのドメインが @g.metro-cit.ac.jp か確認
    if (email.endsWith('@g.metro-cit.ac.jp')) {
      window.location.href = 'https://www.google.com'; // リダイレクト先のURL
    } else {
      alert('このメールアドレスではログインできません。');
      
      // ユーザーをサインアウトする場合
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function () {
        console.log('ユーザーがサインアウトしました。');
      });
    }
  }
</script>
